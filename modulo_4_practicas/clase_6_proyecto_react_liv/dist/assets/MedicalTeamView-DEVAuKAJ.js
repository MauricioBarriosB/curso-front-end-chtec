import{P as t,j as e,r as u}from"./index-Dp95flhc.js";import{B as j,R as b}from"./index-BtJVO0UW.js";import{C as N}from"./CustomSelect-DWeFp-kr.js";function g({fname:i,lname:a,photo:r,specialty:c,experience:m,biography:l,onOpen:d}){const s=o=>{console.log("* Button Clicked :",o.target.dataset.label),d(i,a,r,c,m,l)};return e.jsx("div",{className:"col-lg-4",children:e.jsxs("div",{className:"card dmx-auto",children:[e.jsx("img",{src:r,className:"card-img-top",alt:"doctor"}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h5",{className:"card-title text-primary",children:[i," ",a]}),e.jsxs("p",{className:"card-text",children:["Especialidad: ",c]}),e.jsxs("p",{className:"text-primary",children:["• Años experiencia: ",e.jsxs("strong",{children:[" ",m," "]})]}),e.jsx(j,{label:"Ver más detalle",onClick:s})]})]})})}g.propTypes={fname:t.string,lname:t.string,photo:t.string,specialty:t.string,experience:t.number,biography:t.string,onOpen:t.func};function f({onClose:i,userData:a}){return b.createPortal(e.jsx("div",{onClick:i,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:900},children:e.jsxs("div",{onClick:r=>r.stopPropagation(),className:"card text-center m-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h4",{className:"mt-1 text-primary",children:[e.jsx("i",{className:"las la-file-alt"})," Ficha ",a.fname," ",a.lname]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("img",{src:a.photo,alt:"doctor",style:{width:220,height:150,borderRadius:15/2}}),e.jsxs("div",{className:"pt-2",children:[" ",a.biography," "]})]}),e.jsx("div",{className:"card-footer text-body-secondary",children:e.jsx(j,{label:"Cerrar Modal",onClick:i})})]})}),document.getElementById("modal-root"))}f.propTypes={onClose:t.func.isRequired,userData:t.object.isRequired};function y({doctors:i}){const[a,r]=u.useState(!1),[c,m]=u.useState({fname:"",lname:"",photo:"",specialty:"",biography:""}),l=()=>{r(!1),console.log("* Close ModalPortal")},d=(s,o,n,p,h,x)=>{m({fname:s,lname:o,photo:n,specialty:p,experience:h,biography:x}),r(!0),console.log("* Open ModalPortal")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"row doctors pt-5",children:i.map(s=>e.jsx(g,{fname:s.fname,lname:s.lname,photo:s.photo,specialty:s.specialty,experience:s.experience,biography:s.biography,onOpen:d},s.id))}),a&&e.jsx(f,{onClose:l,userData:c})]})}y.propTypes={doctors:t.arrayOf(t.shape({id:t.number.isRequired,fname:t.string.isRequired,lname:t.string.isRequired,photo:t.string.isRequired,specialty:t.string.isRequired,experience:t.number.isRequired})).isRequired};function v(){const i=u.useRef([]),a=u.useRef([]),[r,c]=u.useState([]);u.useEffect(()=>{(()=>{const d=["./json/doctors.json","./json/specialties.json"];let s=[];Promise.all(d.map(o=>fetch(o).then(n=>n.json()))).then(o=>{o.forEach(h=>s.push(h));let n=s[0],p=s[1];for(let h in p)for(let x in n)p[h].id==n[x].specialty_id&&(n[x].specialty=p[h].name);i.current=n,a.current=p,c(n)}).catch(o=>console.error("* Fetch Json Error :",o))})()},[]);const m=l=>{if(console.log("*** Selected value :",l),l){let d=i.current.filter(s=>s.specialty_id==l);c(d)}else c(i.current)};return e.jsxs("div",{className:"container marketing",children:[e.jsxs("div",{className:"row text-center",children:[e.jsx("h2",{className:"text-primary pt-4",children:"Equipo Médico"}),e.jsx("h4",{className:"pt-4 pb-4",children:"A continuación presentamos a nuestro Equipo Médico."}),e.jsx(N,{initial:"Selecciona una especialidad médica",options:a.current,onChange:m})]}),e.jsx(y,{doctors:r})]})}export{v as default};
